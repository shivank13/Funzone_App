{% extends 'dashboard/organizer/base.html' %}

{% load crispy_forms_tags humanize %}

{% block body %}
<div id="content-wrapper" class="home">
 <div class="container-fluid">
 <!-- Breadcrumbs-->
 <ol class="breadcrumb">
 <li class="breadcrumb-item"><a href="{% url 'organizer' %}">Dashboard</a></li>
 <li class="breadcrumb-item text-success">Manage Quizzes</li>
 <li class="breadcrumb-item text-white">{{ quiz.name }}</li>
 <li class="breadcrumb-item">View Results</li>
 </ol>
 <div class="card m-3 p-3 fieldbox">
 <div class="card-header bg-success cardhead" style="margin-bottom: 20px;">
 <i class="fas fa-table text-primary"></i>
 {{ quiz.name }} Results
 </div>
 <div class="card-header bg-info cardhead">
 <strong>Taken Quizzes</strong>
 <span class="badge badge-pill badge-primary float-right p-2">Average Score: {{ quiz_score.average_score|default_if_none:0.0 }}</span>
 </div>
 <table class="table tablebox mb-0">
 <thead>
 <tr>
 <th>Employee</th>
 <th>Time Elapsed</th>
 <th>Score</th>
 </tr>
 </thead>
 <tbody>
 {% for taken_quiz in taken_quizzes %}
 <tr>
 <td>{{ taken_quiz.employee.user.username }}</td>
 <td>{{ taken_quiz.date|naturaltime }}</td>
 <td>{{ taken_quiz.score }}</td>
 </tr>
 {% endfor %}
 </tbody>
 </table>
 <div class="card-footer text-muted">
 Total respondents: <strong>{{ total_taken_quizzes }}</strong>
 </div>
 </div>
 </div>
 </div>
</div>
{% endblock body %}